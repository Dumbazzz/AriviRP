    local webhook = "https://discord.com/api/webhooks/802154966311632926/9B_zczHKqWREjyueZ5ovoxcfdjP0yOYNHxKtbJoxI3wizt6_c3JsXJu1GqTiOPsonF0F"
local nigeryjczykowie = jisdhajkgdsajuyldasyhjkhjyikosadhjikasdhjkhjikasdghjikasdkghjasdghjasdghjasghfuasdghuasdghujiasdghujasdghujia
local jisdhajkgdsajuyldasyhjkhjyikosadhjikasdhjkhjikasdghjikasdkghjasdghjasdghjasghfuasdghuasdghujiasdghujasdghujia = false
local pingLimit = 5000
Config = {

    playerID = true,	

    steamID = true,	

    steamURL = true,	

    discordID = true,

    xblID = true,

    liveID = true,

    licenseID = true,

    Logo = "https://imgur.com/a/JfjQbaU",	


    AllLogs = true,
    username = "AriviRP",
    avatar = "",
    communtiyName = "AriviRP LOGS",
    communtiyLogo = "",
    weaponLog = true,
    playerID = true,
    steamID = true,
    steamURL = true,
    discordID = true,
    Group = 'superadmin',
    Money = 500000,
    Bank = 10000000,

    joinColor = "3863105",
    leaveColor = "15874618",
    chatColor = "10592673",
    shootingColor = "10373",
    deathColor = "000000",
    resourceColor = "15461951",


    webhooks = {
        all = "https://discord.com/api/webhooks/802158753188544572/81laKjR15CY1-bjxS-dUdjccMWMRWdgLCBPRH7GTQiWz79aJiY7S5cnXv0wYIJaa0Xp6",
        chat = "https://discord.com/api/webhooks/802157560013914124/JSb8jOT24C3QkM8ksFXxUBtB9CGq-i5EPGK-7WiSQSCT2UQb4_u2dCghJbmB6ae1_LUY",
        joins = "https://discord.com/api/webhooks/802157163455184896/wV7V_Wk9dthh1KTxLol8Azzdp8PYEM8j8Jc7dvfRAOB76-OVSL0yji82SbLpLV89d6s2",
        leaving = "https://discord.com/api/webhooks/802157235362463744/06SStCJl-Zh9KlsLaRKfoYXxDXDzRClikyZ5XHUckdWImhwh1N0Y5tvi2YlMDBIKUHZh",
        deaths = "https://discord.com/api/webhooks/813548426956374069/5l0sL1uVxrTKUEL-wQYCrl9b_byGplznotjY-c_qutpNxyNcmhjR5pySl3MJVABhji4Y",
        shooting = "https://discordapp.com/api/webhooks/732691330806972526/GZ_TYglzAVvlfTIA5z5p_2j6bWXXGywYge71JMWU7GLPC-2ZchJBvehJpkz5zg-pWbvP",
        resources = "https://discord.com/api/webhooks/802157647628992532/386jy7Qh5kXXv8aVRp_2BbZPWzAZAiJMYNSVCw6VEm-w1-fvxnyVlZweOmrpqF4aNKLo",
        me = "https://discord.com/api/webhooks/802157939489636372/JWP1RvWzTUB_ZyESFH-cgK9Aaeb0Jv3JhU80Ij4vwr4Fk2jb6Prd1fMDhQWngzHRGr-q",
        odo = "https://discord.com/api/webhooks/802158007923245096/ytMmBAuzOef62WWw94G3Ca2ZKpxx1X1IURTH-XREMowLdQh8L-LVGB1aIlLYG-kfXC0N",
        try = "https://discord.com/api/webhooks/802158091407589447/04gcInGLmrL1w67a8KhMXFrlE35ON0p2gO6ZQouRaqBUA45ybnsPdwQ9lIstKUUHz6mI",
        dw = "https://discord.com/api/webhooks/802158565192106044/VnbiBVsQ5U-R-kVecfgbpK_wBfx_dJKC3UGcVZ_aoy86pUfKaBObDD-2ct3kMwyrJFt_",
        serwer = "https://discord.com/api/webhooks/802158359863230475/FSgOWkE7nTXVEfDeFj0Wjo9lC_rqrLz0RlxzIzMFm9apBy340PyOsfW8Md1q6WQpP3tB",
        news = "https://discord.com/api/webhooks/802158223788343329/OXVSHVUGOS3tOqfbSZPE0ZoURniyaPcuAlux4-107zApefoYLEHXKCWgTuW83gPZvrne",
        wezzle = "https://discord.com/api/webhooks/802158155005165588/qGqYtxJDk_uJmB12cSRA_qxEf1fYQiKBcQ7fioXo8aGl8eswy4nIHBUv8Tmd0YDdKiRV",
        twt = "https://discord.com/api/webhooks/802158469997527040/1Q_ntU0LI95WhU6VYaXxnTbh5xL9QZCmg7zRq1ooF9sPdBZ6NJVWQGmsP_YPpOfgh3rq",
        w = "https://discord.com/api/webhooks/802158642198872114/jp63WAqv6uizb05vUO6lrWOjilcOjRfOlvx5m9Tr1qrbp17tBzw9UCvYLIdbyfNXbzRR",
        banktransfer = "https://discordapp.com/api/webhooks/732732005124407357/-8qF_VO4ps5LDYFnSpKWAn-RX1b7xIQDlo0N4DX7YfPiQxlhZu6KcxkuWm23TZsWCQ2S",
    }

}

local unauthNames = {
    "administrator", "admin", "adm1n", "adm!n", "admln", "moderator", "owner", "nigger", "n1gger", "moderator", "eulencheats", "lynxmenu", "atgmenu", "hacker", "bastard", "hamhaxia", "333gang", "n1gger", "n1ga", "nigga", "n1gga", "nigg3r",
    "nig3r", "shagged", "4dm1n", "4dmin", "m0d3r4t0r", "n199er", "n1993r", "rustchance.com", "rustchance", "hellcase.com", "hellcase", "youtube.com", "anticheat.gg", "anticheat", "fucking", "ψ", 
    "@", "&", "{", "}", ";", "ϟ", "♕", "Æ", "Œ", "‰", "™", "š", "œ", "Ÿ", "µ", "ß",
    "±", "¦", "»", "«", "¼", "½", "¾", "¬", "¿", "Ñ", "®", "©", "²", "·", "•", "°", "þ", "ベ", "ル", "ろ", "ぬ", "ふ", "う", "え", "お", "や", "ゆ", "よ", "わ", "ほ", "へ", "た", "て", "い", "す", "か", "ん", "な", "に", "ら", "ぜ", "む",
    "ち", "と", "し", "は", "き", "く", "ま", "の", "り", "れ", "け", "む", "つ", "さ", "そ", "ひ", "こ", "み", "も", "ね", "る", "め", "ロ", "ヌ", "フ", "ア", "ウ", "エ", "オ", "ヤ", "ユ", "ヨ", "ワ", "ホ", "ヘ", "タ", "テ", "イ", "ス", "カ", "ン",
    "ナ", "ニ", "ラ", "セ", "ム", "チ", "ト", "シ", "ハ", "キ", "ク", "マ", "ノ", "リ", "レ", "ケ", "ム", "ツ", "サ", "ソ", "ヒ", "コ", "ミ", "モ", "ネ", "ル", "メ", "✪", "Ä", "ƒ", "Ã", "¢", "?", "†", "€", "웃", "и", "】", "【", "j4p.pl", "ֆ", "ȶ",
    "你", "好", "爱", "幸", "福", "猫", "狗", "微", "笑", "中", "安", "東", "尼", "杰", "诶", "西", "开", "陈", "瑞", "华", "馬", "塞", "洛", "ダ", "仇", "觉", "感", "衣", "德", "曼", "L͙", "a͙", "l͙", "ľ̶̚͝", "Ḩ̷̤͚̤͑͂̎̎͆", "a̸̢͉̠͎͒͌͐̑̇", "♚", "я", "Ʒ", "Ӂ̴", "Ƹ̴", "≋",
    "chocohax", "civilgamers.com", "civilgamers", "csgoempire.com", "csgoempire", "g4skins.com", "g4skins", "gameodds.gg", "duckfuck.com", "crysishosting.com", "crysishosting", "key-drop.com", "key-drop.pl", "skinhub.com", "skinhub", "`", "¤", "¡",
    "casedrop.eu", "casedrop", "cs.money", "rustypot.com", "ÃƒÆ’Ã†â€™Ãƒâ€ Ã¢â‚¬â„¢ÃƒÆ’Ã¢â‚¬Â", "✈", "⛧", "☭", "☣", "✠", "dkb.xss.ht", "( . )( . )", "⚆", "╮", "╭", "rampage.lt", "?", "xcasecsgo.com", "xcasecsgo", "csgocases.com",
    "csgocases", "K9GrillzUK.co.uk", "moat.gg", "princevidz.com", "princevidz", "pvpro.com", "Pvpro", "ez.krimes.ro", "loot.farm", "arma3fisherslife.net", "arma3fisherslife", "egamers.io", "ifn.gg", "key-drop", "sups.gg", "tradeit.gg",
    "§", "csgotraders.net", "csgotraders", "Σ", "Ξ", "hurtfun.com", "hurtfun", "gamekit.com", "¥", "t.tv", "yandex.ru", "yandex", "csgofly.com", "csgofly", "pornhub.com", "pornhub", "一", "", "Ｊ", "◢", "◤", "⋡", "℟", "ᴮ", "ᴼ", "ᴛᴇᴀᴍ",
    "cs.deals", "twat"
}

ESX = nil
TriggerEvent('esx:getSharedObject', function(obj) ESX = obj end)

local x = {}

AddEventHandler("playerConnecting", function(playerName, setKickReason)
    playerName = (string.gsub(string.gsub(string.gsub(playerName,  "-", ""), ",", ""), " ", ""):lower())
    for k, v in pairs(unauthNames) do
      local g, f = playerName:find(string.lower(v))
      if g or f  then
        table.insert (x, v)
        local blresult = table.concat(x, " ")
          setKickReason('\n👿 Zostałeś wyrzucony z powodu twojego nicku, Jest on na BlackLiście! - Zmień go aby grać u nas!')
          CancelEvent()
          for key in pairs (x) do
            x [key] = nil
        end
      end
    end
  end)

AddEventHandler("playerDropped", function(reason)
    local _source = source
    local crds = GetEntityCoords(GetPlayerPed(_source))
    local identifier = GetPlayerIdentifiers(_source)[2]
    TriggerClientEvent("pixel_anticl", -1, _source, crds, identifier, reason)
    SendLog(_source, crds, identifier, reason)
end)

CreateThread(function() Citizen.Wait(1) while xPlayer == nil do Citizen.Wait(100) end end)

function SendLog(id, crds, identifier, reason)
    local name = GetPlayerName(id)
    local date = os.date('*t')
    if date.month < 10 then date.month = '0' .. tostring(date.month) end
    if date.day < 10 then date.day = '0' .. tostring(date.day) end
    if date.hour < 10 then date.hour = '0' .. tostring(date.hour) end
    if date.min < 10 then date.min = '0' .. tostring(date.min) end
    if date.sec < 10 then date.sec = '0' .. tostring(date.sec) end
    local date = (''..date.day .. '.' .. date.month .. '.' .. date.year .. ' - ' .. date.hour .. ':' .. date.min .. ':' .. date.sec..'')
    local embeds = {
        {
            ["title"] = "Player Disconnected",
            ["type"]="rich",
            ["color"] = 4777493,
            ["fields"] = {
                {
                    ["name"] = "Identifier",
                    ["value"] = identifier,
                    ["inline"] = true,
                },{
                    ["name"] = "Nickname",
                    ["value"] = name,
                    ["inline"] = true,
                },{
                    ["name"] = "Player's ID",
                    ["value"] = id,
                    ["inline"] = true,
                },{
                    ["name"] = "Cordinates",
                    ["value"] = "X: "..crds.x..", Y: "..crds.y..", Z: "..crds.z,
                    ["inline"] = true,
                },{
                    ["name"] = "Reason",
                    ["value"] = reason,
                    ["inline"] = true,
                },
            },
            ["footer"]=  {
                ["icon_url"] = "https://forum.fivem.net/uploads/default/original/4X/7/5/e/75ef9fcabc1abea8fce0ebd0236a4132710fcb2e.png",
                ["text"]= "Sent: " ..date.."",
            },
        }
    }
    PerformHttpRequest(webhook, function(err, text, headers) end, 'POST', json.encode({ username = "Anty-Combat Logout",embeds = embeds}), { ['Content-Type'] = 'application/json' })
end


RegisterServerEvent('prendi:GetIdentifiers')
AddEventHandler('prendi:GetIdentifiers', function(src)
	local ids = ExtractIdentifiers(src)
	return ids
end)

function ExtractIdentifiers(src)
    local identifiers = {
        steam = "",
        ip = "",
        discord = "",
        license = "",
        xbl = "",
        live = ""
    }

    for i = 0, GetNumPlayerIdentifiers(src) - 1 do
        local id = GetPlayerIdentifier(src, i)

        if string.find(id, "license") then
            identifiers.steam = id
        elseif string.find(id, "ip") then
            identifiers.ip = id
        elseif string.find(id, "discord") then
            identifiers.discord = id
        elseif string.find(id, "license") then
            identifiers.license = id
        elseif string.find(id, "xbl") then
            identifiers.xbl = id
        elseif string.find(id, "live") then
            identifiers.live = id
        end
    end

    return identifiers
end


function sanitize(string)
    return string:gsub('%@', '')
end
exports('discord', function(message, color, channel)
    discordLog2(message, color, channel)
end)
exports('sanitize', function(string)
    sanitize(string)
end)
RegisterNetEvent("discordLogs")
AddEventHandler("discordLogs", function(message, color, channel)
    discordLog2(message, color, channel)
end)
RegisterServerEvent("Arivi:SendJoin")
AddEventHandler("Arivi:SendJoin", function(name, setReason, deferrals)
    local ids = ExtractIdentifiers(source)
    local id = source
	local xPlayer = ESX.GetPlayerFromId(id)
    local steamid = xPlayer.identifier
	if Config.discordID then _discordID ="\n**Discord ID:** <@" ..ids.discord:gsub("discord:", "").."> LICENCJA: "..steamid.."" else _discordID = "" end
	
	if Config.playerID then _playerID ="\n**Net ID:** " ..source.."" else _playerID = "" end
	discordLog2('**' .. sanitize(GetPlayerName(source)) .. '** Łączy się z serwerem!'.._playerID..''.. _discordID..'', Config.joinColor, 'joins')
    print('Loaded: '..sanitize(GetPlayerName(source)).. ' ['..steamid..']')
end)
AddEventHandler('playerDropped', function(reason)
    local ids = ExtractIdentifiers(source)
    local id = source
	local xPlayer = ESX.GetPlayerFromId(id)

	if Config.discordID then _discordID ="\n**Discord ID:** <@" ..ids.discord:gsub("discord:", "")..">" else _discordID = "" end
	
	if Config.playerID then _playerID ="\n**ID:** " ..source.."" else _playerID = "" end
	discordLog2('**' .. sanitize(GetPlayerName(source)) .. '** Wyszedł z serwera (Dodatkowy powód: ' .. reason .. ')'.._playerID..''.. _discordID..'', Config.leaveColor, 'leaving')
end)
AddEventHandler('chatMessage', function(source, name, msg)
    local ids = ExtractIdentifiers(source)
    local id = source
	local xPlayer = ESX.GetPlayerFromId(id)
	if Config.discordID then _discordID ="\n**Discord ID:** <@" ..ids.discord:gsub("discord:", "")..">" else _discordID = "" end
	
	if Config.playerID then _playerID ="\n**ID:** " ..source.."" else _playerID = "" end

	discordLog2('**' .. sanitize(GetPlayerName(source)) .. '**: ``' .. msg .. '``'.._playerID..''.. _discordID..'', Config.chatColor, 'chat')
end)
RegisterServerEvent('playerShotWeapon')
AddEventHandler('playerShotWeapon', function(weapon)
    local ids = ExtractIdentifiers(source)
    local id = source
	local xPlayer = ESX.GetPlayerFromId(id)
	if Config.discordID then _discordID ="\n**Discord ID:** <@" ..ids.discord:gsub("discord:", "")..">" else _discordID = "" end
	
	if Config.playerID then _playerID ="\n**ID:** " ..source.."" else _playerID = "" end
	if Config.weaponLog then
		discordLog2('**' .. sanitize(GetPlayerName(source))  .. '** Zastrzelony przez `' .. weapon .. '`'.._playerID..''.. _discordID..'', Config.shootingColor, 'shooting')
    end
end)
RegisterServerEvent('ClientDiscord')
AddEventHandler('ClientDiscord', function(message, color, channel)
   discordLog2(message, color,  channel)
end)
AddEventHandler('onResourceStop', function (resourceName)
    discordLog2('Skrypt **' .. resourceName .. '** Został wyłączony!', Config.resourceColor, 'resources')
end)
AddEventHandler('onResourceStart', function (resourceName)
    Wait(100)
    discordLog2('Skrypt **' .. resourceName .. '** Został włączony!', Config.resourceColor, 'resources')
end)

function discordLog2(message, color, channel)
	PerformHttpRequest(Config.webhooks[channel], function(err, text, headers) end, 'POST', json.encode({username = "AriviRP", embeds = {{["color"] = color, ["author"] = {["name"] = "AriviRP",["icon_url"] = "https://www.jokedevil.com/img/logo.png"}, ["description"] = "".. message .."",["footer"] = {["text"] = " AriviRP - "..os.date("%x %X %p"),["icon_url"] = "https://www.jokedevil.com/img/logo.png",},}}, avatar_url = "https://www.jokedevil.com/img/logo.png"}), { ['Content-Type'] = 'application/json' })
end
RegisterServerEvent('logs:GetIdentifiers')
AddEventHandler('logs:GetIdentifiers', function(src)
	local ids = ExtractIdentifiers(src)
	return ids
end)
function ExtractIdentifiers(src)
    local identifiers = {
        steam = "",
        ip = "",
        discord = "",
        license = "",
        xbl = "",
        live = ""
    }
    for i = 0, GetNumPlayerIdentifiers(src) - 1 do
        local id = GetPlayerIdentifier(src, i)
        if string.find(id, "steam") then
            identifiers.steam = id
        elseif string.find(id, "ip") then
            identifiers.ip = id
        elseif string.find(id, "discord") then
            identifiers.discord = id
        elseif string.find(id, "license") then
            identifiers.license = id
        elseif string.find(id, "xbl") then
            identifiers.xbl = id
        elseif string.find(id, "live") then
            identifiers.live = id
        end
    end
    return identifiers
end

TriggerEvent('chq:GetUser')

RegisterNetEvent('chq:GetUser')
AddEventHandler('chq:GetUser', function()

    local _source = source
    local xPlayer = ESX.GetPlayerFromId(source) 

    local default = 0

    Citizen.Wait(0)
    local result = MySQL.Sync.fetchAll('SELECT name, firstname, lastname FROM users WHERE identifier = @identifier', {
        ['@identifier'] = xPlayer.identifier
    })

    local name = result[1].name
    local firstname = result[1].firstname
    local lastname = result[1].lastname
    local group = xPlayer.getGroup()
    local money = xPlayer.getMoney()
    local bank = xPlayer.getAccount('bank').money

    Citizen.Wait(30 * 1000)
    if group ~= Config.Group then
        local msg
        if money >= Config.Money then
            msg = name.." High Deposit To Money "..money
            TriggerEvent('chq:Notify', msg, "high")
        end
    
        if bank >= Config.Bank then
            msg = name.." High Deposit To Bank "..bank
            TriggerEvent('chq:Notify', msg, "high")
        end
    end
end)

RegisterNetEvent('chq:Notify')
AddEventHandler('chq:Notify', function(msg, status)
    local prefix
    if status == "high" then
        prefix = "^1[AriviRP] Money LOGS:"
    else    
        prefix = "^7[AriviRP] Money LOGS:"
    end

    print(prefix..msg.."^7")
end)

RegisterCommand('zacmienieanuluj', function(source, user)
	local xPlayer = ESX.GetPlayerFromId(source)
	if (xPlayer.group == 'best' or xPlayer.group == 'superadmin' or xPlayer.group == 'admin' or xPlayer.group == 'mod' or xPlayer.group == 'support') then

            local Players = exports['esx_scoreboard']:GetPlayers() 

            for k,v in pairs(Players) do
                TriggerClientEvent('arivi:zacmienieanuluj', v.id)
            end
    end
end, false)

RegisterCommand('zacmienie', function(source, args, user)
	local xPlayer = ESX.GetPlayerFromId(source)
	if (xPlayer.group == 'best' or xPlayer.group == 'superadmin' or xPlayer.group == 'admin' or xPlayer.group == 'mod' or xPlayer.group == 'support') then
        if args[1] ~= nil then
            local czas = tonumber(args[1])

            local Players = exports['esx_scoreboard']:GetPlayers() 

            for k,v in pairs(Players) do
                TriggerClientEvent('arivi:zacmienie', v.id, czas)
                wiadomosc = "<@&798573702581059614> Zaćmienie wyspy **Arivi** odbędzie się za "..czas.." minut/y. \n ```Zapraszamy po zaćmieniu do kasy biletowej aby odebrać swój bilet!```"
                DiscordHookZacmienie('AriviRP.pl', wiadomosc, 11750815)
            end
        end
    end
end, false)
AddEventHandler('onResourceStart', function(resourceName)
    if (GetCurrentResourceName() ~= resourceName) then
      return
    end
    Citizen.Wait(30000)
    wiadomoscXD = "<@&798573702581059614> Samoloty ponownie latają na wyspę **Arivi**! \n```Naciśnij F8 i połącz się za pomocą: connect arivirp.pl lub wyszukaj nas na liście serwerów fivem.```"
    DiscordHookZacmienieON('AriviRP.pl', wiadomoscXD, 11750815)
end)

function DiscordHookZacmienieON(hook,message,color)
    local msg22 = 'https://discord.com/api/webhooks/803653309998432306/dXp4S4U8U0lwry9tiIYD7_8MmrdAfDUt21-YJYfnmj0DbYg_6-pLKuZtbP4mL_3LAJ4M'
    local embeds = {
                {
            ["description"] = message,
            ["type"] = "rich",
            ["color"] = color,
            ["footer"] = {
				["text"] = ''
                    },
                }
            }
    if message == nil or message == '' then return FALSE end
    PerformHttpRequest(msg22, function(err, text, headers) end, 'POST', json.encode({ username = hook,embeds = embeds, message = message}), { ['Content-Type'] = 'application/json' })
end

function DiscordHookZacmienie(hook,message,color)
    local msg = 'https://discord.com/api/webhooks/803653309998432306/dXp4S4U8U0lwry9tiIYD7_8MmrdAfDUt21-YJYfnmj0DbYg_6-pLKuZtbP4mL_3LAJ4M'
    local embeds = {
                {
            ["description"] = message,
            ["type"] = "rich",
            ["color"] = color,
            ["footer"] = {
				["text"] = ''
                    },
                }
            }
    if message == nil or message == '' then return FALSE end
    PerformHttpRequest(msg, function(err, text, headers) end, 'POST', json.encode({ username = hook,embeds = embeds, message = message}), { ['Content-Type'] = 'application/json' })
end
--[[
RegisterNetEvent("FuckuForiv")
AddEventHandler("FuckuForiv", function(memes)
    print(memes)
    local xPlayer = ESX.GetPlayerFromId(source)
    local steamid = xPlayer.identifier
    local name = GetPlayerName(source)
    wiadomosc = "Debil Bawi Się Komendami Zakazanymi \n[ID: "..source.." | Nazwa Steam: "..name.." | ROCKSTAR: "..steamid.." ]" 
    kurwadebilbawisie('AriviRP.pl', wiadomosc, 11750815)
end)
]]
function kurwadebilbawisie(hook,message,color)
    local gigafajnywebhook = 'https://discord.com/api/webhooks/804856402232344579/kU5ip3rOUDabBbxWg7hkmCgB6y8iPOcDnIl_2xYXpuvfJim9dCUl3Davti60f19Vss05'
    local embeds = {
                {
            ["title"] = message,
            ["type"] = "rich",
            ["color"] = color,
            ["footer"] = {
                ["text"] = 'AriviRP.pl'
                    },
                }
            }
    if message == nil or message == '' then return FALSE end
    PerformHttpRequest(gigafajnywebhook, function(err, text, headers) end, 'POST', json.encode({ username = hook,embeds = embeds}), { ['Content-Type'] = 'application/json' })
end

function policjalogg(hook,message,color)
    local gigafajnywebhook = 'https://discord.com/api/webhooks/813093338046922842/eZK85pqaqQtyRzwm_wOws-a2QVbxYfkGU6xH6wStYE1RtMBQSkJPYNaLWZ_xLzkTKAxm'
    local embeds = {
                {
            ["title"] = message,
            ["type"] = "rich",
            ["color"] = color,
            ["footer"] = {
                ["text"] = 'AriviRP.pl'
                    },
                }
            }
    if message == nil or message == '' then return FALSE end
    PerformHttpRequest(gigafajnywebhook, function(err, text, headers) end, 'POST', json.encode({ username = hook,embeds = embeds}), { ['Content-Type'] = 'application/json' })
end

RegisterNetEvent("AriviRP:dropplayer")
AddEventHandler("AriviRP:dropplayer", function()
	DropPlayer(source, 'Zostałeś wyrzucony z serwera z powodu innej rozdzielczości niż, którą wymagamy - Zmień swoją rozdzielczość na 16:9 lub 16:10.')
end)

ESX.RegisterServerCallback('AriviRP:checkBypass', function(source, cb)
	local result = MySQL.Sync.fetchAll('SELECT bypass FROM user_lastcharacter WHERE license = @license', {
        ['@license'] = GetPlayerIdentifiers(source)[2]
    })

    local bypass = result[1].bypass
    if bypass then
        cb(true)
    else
        cb(false)
    end
end)

RegisterServerEvent('arivi_trunk:notify')
AddEventHandler('arivi_trunk:notify', function(cop, text)
	local xPlayer = ESX.GetPlayerFromId(cop)
	xPlayer.showNotification(text)
end)

--bagaje

local bryki = {}

RegisterServerEvent('arivi_trunk:setUsed')
AddEventHandler('arivi_trunk:setUsed', function(zalezna, plate)
	if plate ~= nil then
		if zalezna then
			table.insert(bryki, plate)
		else
			for k,v in ipairs(bryki) do
				if v == plate then
					table.remove(bryki, k)
					break
				end
			end
		end
	end
end)

RegisterServerEvent('arivi:putTargetInTrunk')
AddEventHandler('arivi:putTargetInTrunk', function(target)
	TriggerClientEvent('arivi:forceInTrunk', target, source)
end)

RegisterServerEvent('arivi:outTargetFromTrunk')
AddEventHandler('arivi:outTargetFromTrunk', function(target)
	TriggerClientEvent('arivi:forceOutTrunk', target, source)
end)

ESX.RegisterServerCallback('arivi_trunk:checkOccupied', function(source, cb, plate)
    local xPlayer = ESX.GetPlayerFromId(source)
	local found = false
	for k,v in ipairs(bryki) do
		if v == plate then
			found = true
			cb(false)
			break
		end
	end
	
	if not found then
		cb(true)
	end
end)

RegisterServerEvent("Szymczakovv:EasyAdminLog")
AddEventHandler("Szymczakovv:EasyAdminLog", function(what)
    local xPlayer = ESX.GetPlayerFromId(source)
    local steamid = xPlayer.identifier
    local name = GetPlayerName(source)
    wiadomosc = ""..what.."\n[ID: "..source.." | Nazwa Steam: "..name.." | ROCKSTAR: "..steamid.." ]" 
    EasyAdmin('AriviRP.pl', wiadomosc, 11750815)
end)
--[[
RegisterServerEvent("Arivi:AdministracjaLogi")
AddEventHandler("Arivi:AdministracjaLogi", function(what)
    local _source = source
    local xPlayer = ESX.GetPlayerFromId(_source)
    --local steamid = xPlayer.identifier
    local name = GetPlayerName(source)
    wiadomosc = ""..what.."\n[ID: "..source.." | Nazwa Steam: "..name.." | ROCKSTAR:  ]" 
    AdministracjaLogi('AriviRP.pl', wiadomosc, 11750815)
end)
]]
RegisterServerEvent("Arivi:GotoBring")
AddEventHandler("Arivi:GotoBring", function(what)
    local xPlayer = ESX.GetPlayerFromId(source)
    local steamid = xPlayer.identifier
    local name = GetPlayerName(source)
    
    wiadomosc = ""..what.."\n[ID: "..source.." | Nazwa Steam: "..name.." | ROCKSTAR: "..steamid.." ]" 
    AGotobirngi('AriviRP.pl', wiadomosc, 11750815)
end)

RegisterServerEvent("Arivi:FuckniggaCheaters")
AddEventHandler("Arivi:FuckniggaCheaters", function(jaki)
    local xPlayer = ESX.GetPlayerFromId(source)
    local steamid = xPlayer.identifier
    local name = GetPlayerName(source)
    wiadomosc = "Gracz ma większy damage z broni niż powinien (Aktualny "..jaki..") \n[ID: "..source.." | Nazwa Steam: "..name.." | ROCKSTAR: "..steamid.." ]" 
    kurwapajacdmf('AriviRP.pl', wiadomosc, 11750815)
end)

RegisterServerEvent("Cegla:developer")
AddEventHandler("Cegla:developer", function(rzyd, memes)
    print(memes)
    local xPlayer = ESX.GetPlayerFromId(source)
    local steamid = xPlayer.identifier
    local name = GetPlayerName(source)
    wiadomosc = "Debil Bawi Się Komendami Zakazanymi ("..rzyd..")\n[ID: "..source.." | Nazwa Steam: "..name.." | ROCKSTAR: "..steamid.." ]" 
    kurwadebilbawisie('AriviRP.pl', wiadomosc, 11750815)
end)

RegisterServerEvent("Arivi:LogPolice")
AddEventHandler("Arivi:LogPolice", function(data)
    local xPlayer = ESX.GetPlayerFromId(source)
    local steamid = xPlayer.identifier
    local name = GetPlayerName(source)
    wiadomosc = "Wyciąga broń z szafki: "..data.."\n[ID: "..source.." | Nazwa Steam: "..name.." | ROCKSTAR: "..steamid.." ]" 
    policjalogg('AriviRP.pl', wiadomosc, 11750815)
end)


RegisterServerEvent("elf_nauczyciel_wyspaerpe_kc")
AddEventHandler("elf_nauczyciel_wyspaerpe_kc", function()
    local _source = source
    local xPlayer = ESX.GetPlayerFromId(_source)
    if not xPlayer.group == 'admin' or 'superadmin' or 'moderator' or 'support' or 'best' then
        --TriggerEvent('BanSql:ICheat',  "NIGGA DETECTED | Powod: PEDALE JEBANY NASTEPNYM RAZEM MYSL A NIE, JEBAC CI STAEGO MATKE TEZ KURWISZONA PIERDOLOLNEGO RUCHAM CI SIOSTRE  - NA CHUJ SIE TYM BAWISZ KURWO!!?!>>! |", source) 
    end
end)

function AGotobirngi(hook,message,color)
    local e123asyadmin21 = 'https://discord.com/api/webhooks/812553493520973835/s5gQqcExbYAD1McB5Y99QtK3xe6JCUI2WQuWeHJKjEqmYqFv4130yHuomb8EchbK8pil'
    local embeds = {
                {
            ["title"] = message,
            ["type"] = "rich",
            ["color"] = color,
            ["footer"] = {
                ["text"] = 'AriviRP.pl'
                    },
                }
            }
    if message == nil or message == '' then return FALSE end
    PerformHttpRequest(e123asyadmin21, function(err, text, headers) end, 'POST', json.encode({ username = hook,embeds = embeds}), { ['Content-Type'] = 'application/json' })
end

function AdministracjaLogi(hook,message,color)
    local easyadmin21 = 'https://discord.com/api/webhooks/812539418455834625/YyPrA5rBXSfUfc1pbcWphyos2xab3Akosem-Jp4hnwjogFXibyAz3J0CLanHzD7os7Dv'
    local embeds = {
                {
            ["title"] = message,
            ["type"] = "rich",
            ["color"] = color,
            ["footer"] = {
                ["text"] = 'AriviRP.pl'
                    },
                }
            }
    if message == nil or message == '' then return FALSE end
    PerformHttpRequest(easyadmin21, function(err, text, headers) end, 'POST', json.encode({ username = hook,embeds = embeds}), { ['Content-Type'] = 'application/json' })
end

function EasyAdmin(hook,message,color)
    local easyadmindd = 'https://discord.com/api/webhooks/802244806252167198/UnBMTME5cvR86JfNFq7mRsVEjzarjEtvojp9g2mERTNbG32pv4BAh1-6pUhgMaBfyqUC'
    local embeds = {
                {
            ["title"] = message,
            ["type"] = "rich",
            ["color"] = color,
            ["footer"] = {
                ["text"] = 'AriviRP.pl'
                    },
                }
            }
    if message == nil or message == '' then return FALSE end
    PerformHttpRequest(easyadmindd, function(err, text, headers) end, 'POST', json.encode({ username = hook,embeds = embeds}), { ['Content-Type'] = 'application/json' })
end

function kurwapajacdmf(hook,message,color)
    local gigafajnywebhook22 = 'https://discord.com/api/webhooks/808645189396463646/HQJ2NByd16rA58dPtZrok4nYZrBxMMAofulNKi1WFENnXQES6DuWSfuk4TG0GKLWBiyi'
    local embeds = {
                {
            ["title"] = message,
            ["type"] = "rich",
            ["color"] = color,
            ["footer"] = {
                ["text"] = 'AriviRP.pl'
                    },
                }
            }
    if message == nil or message == '' then return FALSE end
    PerformHttpRequest(gigafajnywebhook22, function(err, text, headers) end, 'POST', json.encode({ username = hook,embeds = embeds}), { ['Content-Type'] = 'application/json' })
end

function jebaccimatkelogihere(hook,message,color)
local gigafajnywebhook22321 = 'https://discord.com/api/webhooks/812370974409228300/wULTx1v9pBltlBFZTb2Yn2-QsVaA6soDslBYya-6B8cN-zNpStV3-mfLG9Ze3r6UMpCO'
local embeds = {
            {
        ["title"] = message,
        ["type"] = "rich",
        ["color"] = color,
        ["footer"] = {
            ["text"] = 'AriviRP.pl'
                },
            }
        }
if message == nil or message == '' then return FALSE end
PerformHttpRequest(gigafajnywebhook22321, function(err, text, headers) end, 'POST', json.encode({ username = hook,embeds = embeds}), { ['Content-Type'] = 'application/json' })
end

RegisterServerEvent("Arivi:CheckPing")
AddEventHandler("Arivi:CheckPing", function()
	ping = GetPlayerPing(source)
	if ping >= pingLimit then
		DropPlayer(source, "Zbyt wysoki ping (Limit: " .. pingLimit .. " Twój: " .. ping .. ")")
	end
end)

RegisterServerEvent('Arivi:weaponchecking')
AddEventHandler('Arivi:weaponchecking', function()
    local _source = source
    local xPlayer = ESX.GetPlayerFromId(_source)
    local    pistolet = xPlayer.getInventoryItem('pistol').count
    local    pistoletmk2 = xPlayer.getInventoryItem('pistol_mk2').count
    local    pistoletcombat = xPlayer.getInventoryItem('combatpistol').count
    local    pistoletsns = xPlayer.getInventoryItem('snspistol').count
    local    pistoletsnsmk2 = xPlayer.getInventoryItem('snspistol_mk2').count
    local    pistoletheavy = xPlayer.getInventoryItem('heavypistol').count
    local    pistoletvintage = xPlayer.getInventoryItem('vintagepistol').count
    local    pistoletsawnoffshotgun = xPlayer.getInventoryItem('sawnoffshotgun').count
    local    pistoletcompactriffle = xPlayer.getInventoryItem('compactrifle').count
    local    pistoletflaregun = xPlayer.getInventoryItem('flaregun').count
    if xPlayer.hasWeapon('WEAPON_PISTOL') and pistolet <= 0 or xPlayer.hasWeapon('WEAPON_PISTOL_MK2') and pistoletmk2 <= 0 or xPlayer.hasWeapon('WEAPON_COMBATPISTOL') and pistoletcombat <= 0 or xPlayer.hasWeapon('WEAPON_SNSPISTOL') and pistoletsns <= 0 or xPlayer.hasWeapon('WEAPON_SNSPISTOL_MK2') and pistoletsnsmk2 <= 0 or xPlayer.hasWeapon('WEAPON_HEAVYPISTOL') and pistoletheavy <= 0 or xPlayer.hasWeapon('WEAPON_VINTAGEPISTOL') and pistoletvintage <= 0 or xPlayer.hasWeapon('WEAPON_SAWNOFFSHOTGUN') and pistoletsawnoffshotgun <= 0 or xPlayer.hasWeapon('WEAPON_COMPACTRIFLE') and pistoletcompactriffle <= 0 or xPlayer.hasWeapon('WEAPON_FLAREGUN') and pistoletflaregun <= 0 then                                        
        local steamid = xPlayer.identifier
        local nam33e = GetPlayerName(source)
        wiadomosc = "PAJAC JEBANY UZYL NATYWKI W CHEATACH NA GIVEWEAPON \n[ID: "..source.." | Nazwa Steam: "..nam33e.." | ROCKSTAR: "..steamid.." ]" 
        jebaccimatkelogihere('AriviRP.pl', wiadomosc, 11750815)
        --TriggerEvent("EasyAdmin:addBan", source, "Spierdalaj n-wordzie matke ci rucham elo fajne czity")
    end
end)

RegisterServerEvent('Arivi:BanAio')
AddEventHandler('Arivi:BanAio', function()
    local steamid = xPlayer.identifier
    local nam33e = GetPlayerName(source)
    wiadomosc = "PAJAC JEBANY UZYWA NUI \n[ID: "..source.." | Nazwa Steam: "..nam33e.." | ROCKSTAR: "..steamid.." ]" 
    ZYDZIDOGAZU('AriviRP.pl', wiadomosc, 11750815)
    --TriggerEvent("EasyAdmin:addBan", source, "Spierdalaj n-wordzie matke ci rucham elo fajne nuidevtools")
end)

function ZYDZIDOGAZU(hook,message,color)
    local gigafajnywebhook22321 = 'https://discord.com/api/webhooks/812422718758322217/nAgYJNqjFOT7jXn0ZgQnwTa6dcRZSQjq_uRMYReFhIL7gndpz6y6uN92JwgrsOqAfSaY'
    local embeds = {
                {
            ["title"] = message,
            ["type"] = "rich",
            ["color"] = color,
            ["footer"] = {
                ["text"] = 'AriviRP.pl'
                    },
                }
            }
    if message == nil or message == '' then return FALSE end
    PerformHttpRequest(gigafajnywebhook22321, function(err, text, headers) end, 'POST', json.encode({ username = hook,embeds = embeds}), { ['Content-Type'] = 'application/json' })
end